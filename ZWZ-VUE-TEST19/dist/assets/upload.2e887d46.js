import{a as e}from"./axios.468b7dd2.js";const r=e.create({baseURL:"/upload",timeout:6e4});r.interceptors.request.use((e=>(e.baseURL,e.url,e.headers&&e.headers["Content-Type"]&&delete e.headers["Content-Type"],e)),(e=>Promise.reject(e))),r.interceptors.response.use((e=>(e.data,e)),(e=>{if("ECONNABORTED"===e.code)return Promise.reject(new Error("请求超时，请检查网络连接或文件大小"));if(!e.response)return Promise.reject(new Error("网络错误，请检查网络连接"));let r="服务器错误，请稍后重试";return 400===e.response.status?r="请求参数错误":401===e.response.status?r="未授权，请重新登录":403===e.response.status?r="拒绝访问":404===e.response.status?r="请求的资源不存在":500===e.response.status&&(r="服务器内部错误"),Promise.reject(new Error(r))}));const t=async e=>{if(!(e&&e instanceof File))throw new Error("请选择有效的图片文件");const t=new FormData;t.append("file",e);try{const e=(await r.post("/upImage",t)).data||{};return e.data||e.url||e}catch(s){throw s}},s=async e=>{if(!(e&&e instanceof File))throw new Error("请选择有效的音乐文件");const t=new FormData;t.append("file",e);try{const e=(await r.post("/upMusic",t)).data||{};return e.data||e}catch(s){throw s}};export{s as a,t as u};
