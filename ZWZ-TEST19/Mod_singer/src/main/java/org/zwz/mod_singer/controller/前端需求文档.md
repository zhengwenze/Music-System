# 歌手查看自己发布的所有音乐功能前端需求文档

## 1. 功能概述
本功能实现歌手登录后查看自己发布的所有音乐列表，支持音乐信息展示、播放控制、状态管理等操作。

## 2. 接口信息

### 2.1 接口地址
`GET http://localhost:8087/singer/my-songs`

### 2.2 请求头参数
| 参数名 | 类型 | 必选 | 说明 |
| ------ | ---- | ---- | ---- |
| id | Integer | 是 | 歌手ID，从登录信息中获取 |

### 2.3 响应数据格式
```json
{
  "code": 200,
  "message": "获取全部歌曲成功",
  "success": true,
  "data": {
    "songs": [
      {
        "musicId": 195,
        "musicName": "111",
        "musicUrl": "http://localhost:8089/file/music/0c5626fa-1ddf-408f-92db-080714a786b4.mp3",
        "imageUrl": "http://localhost:8089/file/image/79c8137b-52e7-4290-912b-54d0345c90d8.png",
        "timeLength": null,
        "listenNumb": 0,
        "fromSinger": 23,
        "singerUsername": "singer111",
        "createTime": "2025-12-29",
        "activation": 0,
        "tags": null
        // 其他字段根据实际需求选择性展示
      }
    ]
  }
}
```

## 3. 界面设计

### 3.1 页面布局
1. **顶部导航栏**：
   - 包含歌手名称、头像
   - 导航菜单（首页、我的音乐、音乐发布、个人设置等）

2. **音乐列表区域**：
   - 列表标题："我的发布音乐"
   - 搜索框：支持按歌曲名称搜索
   - 排序选项：按发布时间、播放量等排序
   - 音乐卡片列表：采用网格或列表布局展示

3. **音乐卡片设计**：
   - 专辑封面图
   - 歌曲名称
   - 歌曲时长
   - 播放量
   - 发布时间
   - 歌曲状态（激活/禁用）
   - 操作按钮：播放、编辑、删除、分享等

### 3.2 交互设计
1. **页面加载**：
   - 显示加载动画
   - 自动调用接口获取音乐列表

2. **音乐播放**：
   - 点击播放按钮播放音乐
   - 支持暂停/继续
   - 播放状态视觉反馈

3. **音乐状态管理**：
   - 激活/禁用歌曲的切换功能
   - 状态变更的确认提示

4. **编辑功能**：
   - 点击编辑按钮跳转到编辑页面
   - 支持修改歌曲信息（名称、标签等）

5. **删除功能**：
   - 点击删除按钮显示确认对话框
   - 确认后删除歌曲并刷新列表

## 4. 功能实现

### 4.1 数据获取与展示
1. **接口调用**：
   - 使用Axios等HTTP客户端库
   - 在组件挂载时调用接口
   - 携带请求头参数（歌手ID）

2. **数据处理**：
   - 解析接口返回的JSON数据
   - 格式化时间、时长等字段
   - 处理null值情况

3. **列表渲染**：
   - 使用v-for（Vue）或map（React）渲染音乐列表
   - 实现虚拟滚动优化大量数据展示

### 4.2 错误处理
1. **网络错误**：
   - 显示网络连接失败提示
   - 提供重试按钮

2. **服务器错误**：
   - 显示友好的错误信息
   - 记录错误日志

3. **数据为空**：
   - 显示"暂无发布音乐"提示
   - 提供跳转到发布页面的入口

### 4.3 性能优化
1. **图片懒加载**：
   - 只加载可视区域内的图片
   - 使用占位图提升用户体验

2. **列表分页**：
   - 当音乐数量较多时，实现分页加载
   - 每页显示10-20条记录

3. **缓存机制**：
   - 缓存接口返回数据
   - 减少重复请求

## 5. 技术栈建议
- **前端框架**：Vue 3 / React 18
- **UI组件库**：Element Plus / Ant Design
- **HTTP客户端**：Axios
- **状态管理**：Pinia / Redux
- **路由管理**：Vue Router / React Router

## 6. 测试要点
1. **功能测试**：
   - 音乐列表正常加载和显示
   - 播放、编辑、删除功能正常
   - 搜索和排序功能正常

2. **兼容性测试**：
   - 主流浏览器兼容（Chrome、Firefox、Safari、Edge）
   - 移动端适配

3. **性能测试**：
   - 页面加载速度
   - 列表滚动流畅度
   - 接口响应时间

4. **异常测试**：
   - 网络断开情况
   - 服务器错误情况
   - 数据为空情况

## 7. 交付标准
1. 功能完整实现，符合需求文档
2. 界面美观，交互友好
3. 代码结构清晰，注释完善
4. 提供单元测试和集成测试
5. 文档齐全，包括使用说明和API文档

## 8. 后续优化建议
1. 添加音乐批量操作功能
2. 实现音乐分类管理
3. 添加数据统计图表（播放量趋势、分类占比等）
4. 优化移动端体验
5. 实现离线访问功能